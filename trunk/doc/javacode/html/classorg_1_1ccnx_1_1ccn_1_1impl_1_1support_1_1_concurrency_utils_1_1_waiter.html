<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Content-Centric Networking in Java: org.ccnx.ccn.impl.support.ConcurrencyUtils.Waiter Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>org</b>.<b>ccnx</b>.<b>ccn</b>.<a class="el" href="namespaceorg_1_1ccnx_1_1ccn_1_1impl.html">impl</a>.<a class="el" href="namespaceorg_1_1ccnx_1_1ccn_1_1impl_1_1support.html">support</a>.<b>ConcurrencyUtils</b>.<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1support_1_1_concurrency_utils_1_1_waiter.html">Waiter</a>
  </div>
</div>
<div class="contents">
<h1>org.ccnx.ccn.impl.support.ConcurrencyUtils.Waiter Class Reference</h1><!-- doxytag: class="org::ccnx::ccn::impl::support::ConcurrencyUtils::Waiter" -->A generic waiter implemented as an abstract class.  
<a href="#_details">More...</a>
<p>

<p>
<a href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1support_1_1_concurrency_utils_1_1_waiter-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1support_1_1_concurrency_utils_1_1_waiter.html#76a80f62b82712249e382fba7d532f68">wait</a> (Object syncValue, Object checkValue)  throws Exception </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wait until "check" returns true, or timeout is elapsed.  <a href="#76a80f62b82712249e382fba7d532f68"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0d1df77e1de557ef4820a52791867941"></a><!-- doxytag: member="org::ccnx::ccn::impl::support::ConcurrencyUtils::Waiter::Waiter" ref="0d1df77e1de557ef4820a52791867941" args="(long timeout)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>Waiter</b> (long timeout)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">abstract boolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1support_1_1_concurrency_utils_1_1_waiter.html#b43cc378ec96a10edaa0c5c87297df7e">check</a> (Object syncValue, Object checkValue)  throws Exception</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check to see if condition is met.  <a href="#b43cc378ec96a10edaa0c5c87297df7e"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="64c808a3850c1665fca930edb292da4e"></a><!-- doxytag: member="org::ccnx::ccn::impl::support::ConcurrencyUtils::Waiter::timeout" ref="64c808a3850c1665fca930edb292da4e" args="" -->
long&nbsp;</td><td class="memItemRight" valign="bottom"><b>timeout</b></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A generic waiter implemented as an abstract class. 
<p>
The generic waiter handles timeouts and deciding whether to continue waiting on spurious wakeup based on a condition. You can hand it an Object to synchronize on (syncValue) and an Object to check. Both are handed back to the abstract check method as the parameters "syncValue" and "checkValue". The wait ends when either check(syncValue, checkValue) returns true or the timeout expires.<p>
A convenient way to use the waiter is to instantiate the abstract method in an anonymous class. So for example, if you wanted to wait 500 ms for a static Boolean foo to become true and synchronize on an Object named lock you could do it like this, instantiating "check" in the anonymous class to check the value of foo:<p>
<div class="fragment"><pre class="fragment">
	 * Object lock = new Object();
	 * new Waiter(500) {
	 * 		@Override
	 *		protected boolean check(Object syncValue, Object checkValue) throws Exception {
	 *			return (Boolean)checkValue;
	 *		}
	 *	}.wait(lock, foo);
	 * </pre></div> <hr><h2>Member Function Documentation</h2>
<a class="anchor" name="76a80f62b82712249e382fba7d532f68"></a><!-- doxytag: member="org::ccnx::ccn::impl::support::ConcurrencyUtils::Waiter::wait" ref="76a80f62b82712249e382fba7d532f68" args="(Object syncValue, Object checkValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.ccnx.ccn.impl.support.ConcurrencyUtils.Waiter.wait           </td>
          <td>(</td>
          <td class="paramtype">Object&nbsp;</td>
          <td class="paramname"> <em>syncValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Object&nbsp;</td>
          <td class="paramname"> <em>checkValue</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throws Exception </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Wait until "check" returns true, or timeout is elapsed. 
<p>
Handles spurious wakeups by calling check in a loop.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>syncValue</em>&nbsp;</td><td>- wait under this lock, also passed to check routine </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>checkValue</em>&nbsp;</td><td>- value to pass to check to allow subclass to <a class="el" href="namespaceorg_1_1ccnx_1_1ccn_1_1test.html" title="PD org.ccnx.ccn.test.">test</a> condition </td></tr>
  </table>
</dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="b43cc378ec96a10edaa0c5c87297df7e"></a><!-- doxytag: member="org::ccnx::ccn::impl::support::ConcurrencyUtils::Waiter::check" ref="b43cc378ec96a10edaa0c5c87297df7e" args="(Object syncValue, Object checkValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">abstract boolean org.ccnx.ccn.impl.support.ConcurrencyUtils.Waiter.check           </td>
          <td>(</td>
          <td class="paramtype">Object&nbsp;</td>
          <td class="paramname"> <em>syncValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Object&nbsp;</td>
          <td class="paramname"> <em>checkValue</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throws Exception<code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check to see if condition is met. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>syncValue</em>&nbsp;</td><td>the lock object which could be part of the condition check </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>checkValue</em>&nbsp;</td><td>value to check for end condition </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if condition is met (and we should stop waiting) </dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>src/org/ccnx/ccn/impl/support/ConcurrencyUtils.java</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Sep 14 12:44:28 2011 for Content-Centric Networking in Java by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
