<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Content-Centric Networking in C: lib/ccn_coding.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_d294727123e4a9950cfa1260f7dd34bc.html">lib</a>
  </div>
</div>
<div class="contents">
<h1>ccn_coding.c File Reference</h1>Support for scanning and parsing ccnb-encoded data. <a href="#_details">More...</a>
<p>

<p>
<a href="ccn__coding_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccn__coding_8c.html#82df27a9502e91b0e1b91fb642109808">XML</a>(goop)&nbsp;&nbsp;&nbsp;((void)0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro documents what's happening in the state machine by hinting at the XML syntax would be emitted in a re-encoder.  <a href="#82df27a9502e91b0e1b91fb642109808"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccn__coding_8c.html#8e7167e6faac030987bbaafb0d23c4e0">ccn_skeleton_decode</a> (struct <a class="el" href="structccn__skeleton__decoder.html">ccn_skeleton_decoder</a> *d, const unsigned char *p, size_t n)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Decodes ccnb decoded data.  <a href="#8e7167e6faac030987bbaafb0d23c4e0"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Support for scanning and parsing ccnb-encoded data. 
<p>
Part of the CCNx C Library.<p>
Copyright (C) 2008, 2009 Palo Alto Research Center, Inc.<p>
This library is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License version 2.1 as published by the Free Software Foundation. This library is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details. You should have received a copy of the GNU Lesser General Public License along with this library; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA. 
<p>Definition in file <a class="el" href="ccn__coding_8c-source.html">ccn_coding.c</a>.</p>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="82df27a9502e91b0e1b91fb642109808"></a><!-- doxytag: member="ccn_coding.c::XML" ref="82df27a9502e91b0e1b91fb642109808" args="(goop)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XML          </td>
          <td>(</td>
          <td class="paramtype">goop&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((void)0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This macro documents what's happening in the state machine by hinting at the XML syntax would be emitted in a re-encoder. 
<p>
But it actually does nothing. 
<p>Definition at line <a class="el" href="ccn__coding_8c-source.html#l00027">27</a> of file <a class="el" href="ccn__coding_8c-source.html">ccn_coding.c</a>.</p>

<p>Referenced by <a class="el" href="ccn__coding_8c-source.html#l00057">ccn_skeleton_decode()</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="8e7167e6faac030987bbaafb0d23c4e0"></a><!-- doxytag: member="ccn_coding.c::ccn_skeleton_decode" ref="8e7167e6faac030987bbaafb0d23c4e0" args="(struct ccn_skeleton_decoder *d, const unsigned char *p, size_t n)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t ccn_skeleton_decode           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structccn__skeleton__decoder.html">ccn_skeleton_decoder</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>n</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Decodes ccnb decoded data. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>d</em>&nbsp;</td><td>holds the current state of the decoder. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p</em>&nbsp;</td><td>points to a new block of ccnb data to feed to the decoder. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>n</em>&nbsp;</td><td>is the size of the input, in bytes. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the number of bytes consumed.</dd></dl>
The client should ensure that the decoder is initialized to all zero before the first call. In the default mode, the decoder will return only when it runs out of data, encounters an error, or reaches the end of the element that it started at. This is a good way to pull ccnb-encoded objects from a byte stream.<p>
By setting the CCN_DSTATE_PAUSE bit is set in the decoder state, the decoder will additionally return just after recognizing each token. In this instance, use <a class="el" href="coding_8h.html#2d8cce251b4c9023390cb375eebf8bb2">CCN_GET_TT_FROM_DSTATE()</a> to extract the token type from the decoder state; CCN_CLOSE will be reported as CCN_NO_TOKEN.<p>
The pause bit persists, so the end test should take that into account by using the <a class="el" href="coding_8h.html#65d73a14a6564bfd5d0181fa892e14ff">CCN_FINAL_DSTATE()</a> macro instead of testing for state 0.<p>
Once an error state is entered, no addition input is processed.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="ccn_8h.html#4ba830f8dad511663779d85122db633a">ccn_buf_decoder_start()</a>, <a class="el" href="ccn_8h.html#1b17cadb92b2339cba24721b0466a0ce">ccn_buf_advance()</a>, <a class="el" href="ccn_8h.html#1868a32594c3c2a98e60049a3f3184b8" title="Enter an error state if element closer not found.">ccn_buf_check_close()</a> </dd></dl>

<p>Definition at line <a class="el" href="ccn__coding_8c-source.html#l00057">57</a> of file <a class="el" href="ccn__coding_8c-source.html">ccn_coding.c</a>.</p>

<p>Referenced by <a class="el" href="ccn__buf__decoder_8c-source.html#l00040">ccn_buf_advance()</a>, <a class="el" href="ccn__buf__decoder_8c-source.html#l00028">ccn_buf_decoder_start()</a>, <a class="el" href="ccn__client_8c-source.html#l01262">ccn_process_input()</a>, <a class="el" href="ccn__client_8c-source.html#l00668">ccn_put()</a>, <a class="el" href="ccnbx_8c-source.html#l00067">ccnbx()</a>, <a class="el" href="encodedecodetest_8c-source.html#l00191">main()</a>, <a class="el" href="ccnnamelist_8c-source.html#l00041">process_data()</a>, <a class="el" href="ccnd_8c-source.html#l04147">process_input()</a>, <a class="el" href="ccnd_8c-source.html#l04111">process_input_buffer()</a>, <a class="el" href="ccnd_8c-source.html#l03942">process_input_message()</a>, and <a class="el" href="ccn__splitccnb_8c-source.html#l00079">process_test()</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Sep 14 12:44:16 2011 for Content-Centric Networking in C by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
