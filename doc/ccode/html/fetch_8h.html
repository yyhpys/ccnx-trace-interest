<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Content-Centric Networking in C: include/ccn/fetch.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_5275d6f25040392142de6582223084e5.html">include</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_d32b1a8595bfa086693bc6882cf3898a.html">ccn</a>
  </div>
</div>
<div class="contents">
<h1>fetch.h File Reference</h1>Streaming access for fetching segmented CCNx data. <a href="#_details">More...</a>
<p>

<p>
<a href="fetch_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fetch_8h.html#85485d9b133c96fb4d04241fcfb3f76f">CCN_FETCH_READ_ZERO</a>&nbsp;&nbsp;&nbsp;(-3)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fetch_8h.html#7e3ad5bb3d947965dd4127c43b51b03f">CCN_FETCH_READ_TIMEOUT</a>&nbsp;&nbsp;&nbsp;(-2)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fetch_8h.html#4d5dd412f2754dbd40189a7e4517432b">CCN_FETCH_READ_NONE</a>&nbsp;&nbsp;&nbsp;(-1)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fetch_8h.html#34f08e63f73f4b541b03c1f1e02e77ba">CCN_FETCH_READ_END</a>&nbsp;&nbsp;&nbsp;(0)</td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fetch_8h.html#0ed6579cfdae4fc38e27df172076d4f0">ccn_fetch_flags</a> { <br>
&nbsp;&nbsp;<a class="el" href="fetch_8h.html#0ed6579cfdae4fc38e27df172076d4f046e913db5a34c7820ab9d4e855764e5d">ccn_fetch_flags_None</a> =  0, 
<a class="el" href="fetch_8h.html#0ed6579cfdae4fc38e27df172076d4f052931b2a4b65e19ccbfea4db1e2118a4">ccn_fetch_flags_NoteGlitch</a> =  1, 
<a class="el" href="fetch_8h.html#0ed6579cfdae4fc38e27df172076d4f0577637c764de954385a9aff67dd58c99">ccn_fetch_flags_NoteAddRem</a> =  2, 
<a class="el" href="fetch_8h.html#0ed6579cfdae4fc38e27df172076d4f0c8f2f5a456615ca8a2cd9f27c5025d52">ccn_fetch_flags_NoteNeed</a> =  4, 
<br>
&nbsp;&nbsp;<a class="el" href="fetch_8h.html#0ed6579cfdae4fc38e27df172076d4f0a0fced39c39406a233be83c10cb908f6">ccn_fetch_flags_NoteFill</a> =  8, 
<a class="el" href="fetch_8h.html#0ed6579cfdae4fc38e27df172076d4f0b01ffa8a797b2d78fdf20efd78c26330">ccn_fetch_flags_NoteFinal</a> =  16, 
<a class="el" href="fetch_8h.html#0ed6579cfdae4fc38e27df172076d4f0af99b49dc30582fbfa2b0f09503a9736">ccn_fetch_flags_NoteTimeout</a> =  32, 
<a class="el" href="fetch_8h.html#0ed6579cfdae4fc38e27df172076d4f0deea8c9d05adf034e8c3d6eb5210527e">ccn_fetch_flags_NoteOpenClose</a> =  64, 
<br>
&nbsp;&nbsp;<a class="el" href="fetch_8h.html#0ed6579cfdae4fc38e27df172076d4f023e31429e0b2f8576a55d40618ed0304">ccn_fetch_flags_NoteAll</a> =  0xffff
<br>
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct ccn_fetch *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fetch_8h.html#3f4d28268e28e1d44bfbeefcdc4caba8">ccn_fetch_new</a> (struct ccn *h)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new ccn_fetch object using the given ccn connection.  <a href="#3f4d28268e28e1d44bfbeefcdc4caba8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fetch_8h.html#cbea1189239642671e3dbb8f04562712">ccn_fetch_set_debug</a> (struct ccn_fetch *f, FILE *debug, <a class="el" href="fetch_8h.html#0ed6579cfdae4fc38e27df172076d4f0">ccn_fetch_flags</a> flags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the destination for debug output.  <a href="#cbea1189239642671e3dbb8f04562712"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct ccn_fetch *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fetch_8h.html#c394c367e466a8916c518b621704c6c1">ccn_fetch_destroy</a> (struct ccn_fetch *f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroys a ccn_fetch object.  <a href="#c394c367e466a8916c518b621704c6c1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fetch_8h.html#5399497a89f58255148f139baa464e3c">ccn_fetch_poll</a> (struct ccn_fetch *f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Polls the underlying streams and attempts to make progress.  <a href="#5399497a89f58255148f139baa464e3c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct ccn_fetch_stream *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fetch_8h.html#0acb80818341b3efa4ddcd53e694e23f">ccn_fetch_next</a> (struct ccn_fetch *f, struct ccn_fetch_stream *fs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Provides an iterator through the underlying streams.  <a href="#0acb80818341b3efa4ddcd53e694e23f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct ccn *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fetch_8h.html#e3a272ee0f985d826ec041f4179c3a1c">ccn_fetch_get_ccn</a> (struct ccn_fetch *f)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct ccn_fetch_stream *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fetch_8h.html#3255d1f2ea2efca90b3a3715d643eb6a">ccn_fetch_open</a> (struct ccn_fetch *f, struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *name, const char *id, struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *interestTemplate, int maxBufs, int resolveVersion, int assumeFixed)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a stream for a named interest.  <a href="#3255d1f2ea2efca90b3a3715d643eb6a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct ccn_fetch_stream *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fetch_8h.html#fee1cf7387fe7eb64f1f9ecfdc47691b">ccn_fetch_close</a> (struct ccn_fetch_stream *fs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Closes the stream and reclaims any resources used by the stream.  <a href="#fee1cf7387fe7eb64f1f9ecfdc47691b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">intmax_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fetch_8h.html#bb773f0a37b15995f849a1058b5abc90">ccn_fetch_avail</a> (struct ccn_fetch_stream *fs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tests for available bytes in the stream.  <a href="#bb773f0a37b15995f849a1058b5abc90"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">intmax_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fetch_8h.html#bc8030c946fed58635c051ffa9b7b2a5">ccn_fetch_read</a> (struct ccn_fetch_stream *fs, void *buf, intmax_t len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads bytes from a stream.  <a href="#bc8030c946fed58635c051ffa9b7b2a5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fetch_8h.html#c209124a24a126810f32009a6da7376c">ccn_reset_timeout</a> (struct ccn_fetch_stream *fs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Resets the timeout indicator, which will cause pending interests to be retried.  <a href="#c209124a24a126810f32009a6da7376c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fetch_8h.html#994f9d08ecdd25e10b1b84523118214a">ccn_fetch_seek</a> (struct ccn_fetch_stream *fs, intmax_t pos)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Seeks to a position in a stream.  <a href="#994f9d08ecdd25e10b1b84523118214a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">intmax_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fetch_8h.html#cdb3b506baf522838f83fd53f9527145">ccn_fetch_position</a> (struct ccn_fetch_stream *fs)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Streaming access for fetching segmented CCNx data. 
<p>
Supports multiple streams from a single connection and seeking to an arbitrary position within the associated file. 
<p>Definition in file <a class="el" href="fetch_8h-source.html">fetch.h</a>.</p>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="34f08e63f73f4b541b03c1f1e02e77ba"></a><!-- doxytag: member="fetch.h::CCN_FETCH_READ_END" ref="34f08e63f73f4b541b03c1f1e02e77ba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CCN_FETCH_READ_END&nbsp;&nbsp;&nbsp;(0)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="fetch_8h-source.html#l00059">59</a> of file <a class="el" href="fetch_8h-source.html">fetch.h</a>.</p>

<p>Referenced by <a class="el" href="ccn__fetch_8c-source.html#l00902">ccn_fetch_avail()</a>, <a class="el" href="ccn__fetch_8c-source.html#l00954">ccn_fetch_read()</a>, <a class="el" href="ccncat_8c-source.html#l00084">main()</a>, and <a class="el" href="ccn__fetch__test_8c-source.html#l00158">runTest()</a>.</p>

</div>
</div><p>
<a class="anchor" name="4d5dd412f2754dbd40189a7e4517432b"></a><!-- doxytag: member="fetch.h::CCN_FETCH_READ_NONE" ref="4d5dd412f2754dbd40189a7e4517432b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CCN_FETCH_READ_NONE&nbsp;&nbsp;&nbsp;(-1)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="fetch_8h-source.html#l00058">58</a> of file <a class="el" href="fetch_8h-source.html">fetch.h</a>.</p>

<p>Referenced by <a class="el" href="ccn__fetch_8c-source.html#l00902">ccn_fetch_avail()</a>, <a class="el" href="ccn__fetch_8c-source.html#l00954">ccn_fetch_read()</a>, <a class="el" href="ccncat_8c-source.html#l00084">main()</a>, and <a class="el" href="ccn__fetch__test_8c-source.html#l00158">runTest()</a>.</p>

</div>
</div><p>
<a class="anchor" name="7e3ad5bb3d947965dd4127c43b51b03f"></a><!-- doxytag: member="fetch.h::CCN_FETCH_READ_TIMEOUT" ref="7e3ad5bb3d947965dd4127c43b51b03f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CCN_FETCH_READ_TIMEOUT&nbsp;&nbsp;&nbsp;(-2)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="fetch_8h-source.html#l00057">57</a> of file <a class="el" href="fetch_8h-source.html">fetch.h</a>.</p>

<p>Referenced by <a class="el" href="ccn__fetch_8c-source.html#l00902">ccn_fetch_avail()</a>, <a class="el" href="ccn__fetch_8c-source.html#l00954">ccn_fetch_read()</a>, <a class="el" href="ccncat_8c-source.html#l00084">main()</a>, and <a class="el" href="ccn__fetch__test_8c-source.html#l00158">runTest()</a>.</p>

</div>
</div><p>
<a class="anchor" name="85485d9b133c96fb4d04241fcfb3f76f"></a><!-- doxytag: member="fetch.h::CCN_FETCH_READ_ZERO" ref="85485d9b133c96fb4d04241fcfb3f76f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CCN_FETCH_READ_ZERO&nbsp;&nbsp;&nbsp;(-3)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="fetch_8h-source.html#l00056">56</a> of file <a class="el" href="fetch_8h-source.html">fetch.h</a>.</p>

<p>Referenced by <a class="el" href="ccn__fetch_8c-source.html#l00902">ccn_fetch_avail()</a>, and <a class="el" href="ccn__fetch_8c-source.html#l00954">ccn_fetch_read()</a>.</p>

</div>
</div><p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="0ed6579cfdae4fc38e27df172076d4f0"></a><!-- doxytag: member="fetch.h::ccn_fetch_flags" ref="0ed6579cfdae4fc38e27df172076d4f0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="fetch_8h.html#0ed6579cfdae4fc38e27df172076d4f0">ccn_fetch_flags</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="0ed6579cfdae4fc38e27df172076d4f046e913db5a34c7820ab9d4e855764e5d"></a><!-- doxytag: member="ccn_fetch_flags_None" ref="0ed6579cfdae4fc38e27df172076d4f046e913db5a34c7820ab9d4e855764e5d" args="" -->ccn_fetch_flags_None</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="0ed6579cfdae4fc38e27df172076d4f052931b2a4b65e19ccbfea4db1e2118a4"></a><!-- doxytag: member="ccn_fetch_flags_NoteGlitch" ref="0ed6579cfdae4fc38e27df172076d4f052931b2a4b65e19ccbfea4db1e2118a4" args="" -->ccn_fetch_flags_NoteGlitch</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="0ed6579cfdae4fc38e27df172076d4f0577637c764de954385a9aff67dd58c99"></a><!-- doxytag: member="ccn_fetch_flags_NoteAddRem" ref="0ed6579cfdae4fc38e27df172076d4f0577637c764de954385a9aff67dd58c99" args="" -->ccn_fetch_flags_NoteAddRem</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="0ed6579cfdae4fc38e27df172076d4f0c8f2f5a456615ca8a2cd9f27c5025d52"></a><!-- doxytag: member="ccn_fetch_flags_NoteNeed" ref="0ed6579cfdae4fc38e27df172076d4f0c8f2f5a456615ca8a2cd9f27c5025d52" args="" -->ccn_fetch_flags_NoteNeed</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="0ed6579cfdae4fc38e27df172076d4f0a0fced39c39406a233be83c10cb908f6"></a><!-- doxytag: member="ccn_fetch_flags_NoteFill" ref="0ed6579cfdae4fc38e27df172076d4f0a0fced39c39406a233be83c10cb908f6" args="" -->ccn_fetch_flags_NoteFill</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="0ed6579cfdae4fc38e27df172076d4f0b01ffa8a797b2d78fdf20efd78c26330"></a><!-- doxytag: member="ccn_fetch_flags_NoteFinal" ref="0ed6579cfdae4fc38e27df172076d4f0b01ffa8a797b2d78fdf20efd78c26330" args="" -->ccn_fetch_flags_NoteFinal</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="0ed6579cfdae4fc38e27df172076d4f0af99b49dc30582fbfa2b0f09503a9736"></a><!-- doxytag: member="ccn_fetch_flags_NoteTimeout" ref="0ed6579cfdae4fc38e27df172076d4f0af99b49dc30582fbfa2b0f09503a9736" args="" -->ccn_fetch_flags_NoteTimeout</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="0ed6579cfdae4fc38e27df172076d4f0deea8c9d05adf034e8c3d6eb5210527e"></a><!-- doxytag: member="ccn_fetch_flags_NoteOpenClose" ref="0ed6579cfdae4fc38e27df172076d4f0deea8c9d05adf034e8c3d6eb5210527e" args="" -->ccn_fetch_flags_NoteOpenClose</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="0ed6579cfdae4fc38e27df172076d4f023e31429e0b2f8576a55d40618ed0304"></a><!-- doxytag: member="ccn_fetch_flags_NoteAll" ref="0ed6579cfdae4fc38e27df172076d4f023e31429e0b2f8576a55d40618ed0304" args="" -->ccn_fetch_flags_NoteAll</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

<p>Definition at line <a class="el" href="fetch_8h-source.html#l00044">44</a> of file <a class="el" href="fetch_8h-source.html">fetch.h</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="bb773f0a37b15995f849a1058b5abc90"></a><!-- doxytag: member="fetch.h::ccn_fetch_avail" ref="bb773f0a37b15995f849a1058b5abc90" args="(struct ccn_fetch_stream *fs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">intmax_t ccn_fetch_avail           </td>
          <td>(</td>
          <td class="paramtype">struct ccn_fetch_stream *&nbsp;</td>
          <td class="paramname"> <em>fs</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Tests for available bytes in the stream. 
<p>
Determines how many bytes can be read on the given stream without waiting (via ccn_fetch_poll). <dl class="return" compact><dt><b>Returns:</b></dt><dd>CCN_FETCH_READ_TIMEOUT if a timeout occurred, CCN_FETCH_READ_ZERO if a zero-length segment was found CCN_FETCH_READ_NONE if no bytes are immediately available CCN_FETCH_READ_END if the stream is at the end, and N &gt; 0 if N bytes can be read without performing a poll. </dd></dl>

<p>Definition at line <a class="el" href="ccn__fetch_8c-source.html#l00902">902</a> of file <a class="el" href="ccn__fetch_8c-source.html">ccn_fetch.c</a>.</p>

<p>Referenced by <a class="el" href="ccn__fetch_8c-source.html#l00693">ccn_fetch_poll()</a>.</p>

</div>
</div><p>
<a class="anchor" name="fee1cf7387fe7eb64f1f9ecfdc47691b"></a><!-- doxytag: member="fetch.h::ccn_fetch_close" ref="fee1cf7387fe7eb64f1f9ecfdc47691b" args="(struct ccn_fetch_stream *fs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ccn_fetch_stream* ccn_fetch_close           </td>
          <td>(</td>
          <td class="paramtype">struct ccn_fetch_stream *&nbsp;</td>
          <td class="paramname"> <em>fs</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Closes the stream and reclaims any resources used by the stream. 
<p>
The stream object will be freed, so the client must not access it again. <dl class="return" compact><dt><b>Returns:</b></dt><dd>NULL in all cases. </dd></dl>

<p>Definition at line <a class="el" href="ccn__fetch_8c-source.html#l00842">842</a> of file <a class="el" href="ccn__fetch_8c-source.html">ccn_fetch.c</a>.</p>

<p>Referenced by <a class="el" href="ccn__fetch_8c-source.html#l00659">ccn_fetch_destroy()</a>, <a class="el" href="ccn__fetch__test_8c-source.html#l00142">ElemDone()</a>, and <a class="el" href="ccncat_8c-source.html#l00084">main()</a>.</p>

</div>
</div><p>
<a class="anchor" name="c394c367e466a8916c518b621704c6c1"></a><!-- doxytag: member="fetch.h::ccn_fetch_destroy" ref="c394c367e466a8916c518b621704c6c1" args="(struct ccn_fetch *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ccn_fetch* ccn_fetch_destroy           </td>
          <td>(</td>
          <td class="paramtype">struct ccn_fetch *&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroys a ccn_fetch object. 
<p>
Only destroys the underlying ccn connection if it was automatically created. Forces all underlying streams to close immediately. <dl class="return" compact><dt><b>Returns:</b></dt><dd>NULL in all cases. </dd></dl>

<p>Definition at line <a class="el" href="ccn__fetch_8c-source.html#l00659">659</a> of file <a class="el" href="ccn__fetch_8c-source.html">ccn_fetch.c</a>.</p>

<p>Referenced by <a class="el" href="ccn__fetch__test_8c-source.html#l00235">main()</a>.</p>

</div>
</div><p>
<a class="anchor" name="e3a272ee0f985d826ec041f4179c3a1c"></a><!-- doxytag: member="fetch.h::ccn_fetch_get_ccn" ref="e3a272ee0f985d826ec041f4179c3a1c" args="(struct ccn_fetch *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ccn* ccn_fetch_get_ccn           </td>
          <td>(</td>
          <td class="paramtype">struct ccn_fetch *&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the underlying ccn connection. </dd></dl>

<p>Definition at line <a class="el" href="ccn__fetch_8c-source.html#l00735">735</a> of file <a class="el" href="ccn__fetch_8c-source.html">ccn_fetch.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="3f4d28268e28e1d44bfbeefcdc4caba8"></a><!-- doxytag: member="fetch.h::ccn_fetch_new" ref="3f4d28268e28e1d44bfbeefcdc4caba8" args="(struct ccn *h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ccn_fetch* ccn_fetch_new           </td>
          <td>(</td>
          <td class="paramtype">struct ccn *&nbsp;</td>
          <td class="paramname"> <em>h</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates a new ccn_fetch object using the given ccn connection. 
<p>
If h == NULL, attempts to create a new connection automatically. <dl class="return" compact><dt><b>Returns:</b></dt><dd>NULL if the creation was not successful (only can happen for the h == NULL case).</dd></dl>
If h == NULL, attempts to create a new connection automatically. <dl class="return" compact><dt><b>Returns:</b></dt><dd>NULL if the creation was not successful (only can happen for the h == NULL case). </dd></dl>

<p>Definition at line <a class="el" href="ccn__fetch_8c-source.html#l00630">630</a> of file <a class="el" href="ccn__fetch_8c-source.html">ccn_fetch.c</a>.</p>

<p>Referenced by <a class="el" href="ccn__fetch__test_8c-source.html#l00235">main()</a>.</p>

</div>
</div><p>
<a class="anchor" name="0acb80818341b3efa4ddcd53e694e23f"></a><!-- doxytag: member="fetch.h::ccn_fetch_next" ref="0acb80818341b3efa4ddcd53e694e23f" args="(struct ccn_fetch *f, struct ccn_fetch_stream *fs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ccn_fetch_stream* ccn_fetch_next           </td>
          <td>(</td>
          <td class="paramtype">struct ccn_fetch *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ccn_fetch_stream *&nbsp;</td>
          <td class="paramname"> <em>fs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Provides an iterator through the underlying streams. 
<p>
Use fs == NULL to start the iteration, and an existing stream to continue the iteration. <dl class="return" compact><dt><b>Returns:</b></dt><dd>the next stream in the iteration, or NULL at the end. Note that providing a stale (closed) stream handle will return NULL. </dd></dl>

<p>Definition at line <a class="el" href="ccn__fetch_8c-source.html#l00717">717</a> of file <a class="el" href="ccn__fetch_8c-source.html">ccn_fetch.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="3255d1f2ea2efca90b3a3715d643eb6a"></a><!-- doxytag: member="fetch.h::ccn_fetch_open" ref="3255d1f2ea2efca90b3a3715d643eb6a" args="(struct ccn_fetch *f, struct ccn_charbuf *name, const char *id, struct ccn_charbuf *interestTemplate, int maxBufs, int resolveVersion, int assumeFixed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct ccn_fetch_stream* ccn_fetch_open           </td>
          <td>(</td>
          <td class="paramtype">struct ccn_fetch *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structccn__charbuf.html">ccn_charbuf</a> *&nbsp;</td>
          <td class="paramname"> <em>interestTemplate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>maxBufs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>resolveVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>assumeFixed</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates a stream for a named interest. 
<p>
The name should be a ccnb encoded interest. If resolveVersion, then we assume that the version is unresolved, and an attempt is made to determine the version number using the highest version. If interestTemplate == NULL then a suitable default is used. The max number of buffers (maxBufs) is a hint, and may be clamped to an implementation minimum or maximum. If assumeFixed, then assume that the segment size is given by the first segment fetched, otherwise segments may be of variable size. <dl class="return" compact><dt><b>Returns:</b></dt><dd>NULL if the stream creation failed, otherwise returns the new stream.</dd></dl>
The name should be a ccnb encoded interest. If resolveVersion, then we assume that the version is unresolved, and an attempt is made to determine the version number using the highest version. The number of buffers (nBufs) may be silently limited. <dl class="return" compact><dt><b>Returns:</b></dt><dd>NULL if the stream creation failed, otherwise returns the new stream. </dd></dl>

<p>Definition at line <a class="el" href="ccn__fetch_8c-source.html#l00750">750</a> of file <a class="el" href="ccn__fetch_8c-source.html">ccn_fetch.c</a>.</p>

<p>Referenced by <a class="el" href="ccncat_8c-source.html#l00084">main()</a>, and <a class="el" href="ccn__fetch__test_8c-source.html#l00104">NewElem()</a>.</p>

</div>
</div><p>
<a class="anchor" name="5399497a89f58255148f139baa464e3c"></a><!-- doxytag: member="fetch.h::ccn_fetch_poll" ref="5399497a89f58255148f139baa464e3c" args="(struct ccn_fetch *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ccn_fetch_poll           </td>
          <td>(</td>
          <td class="paramtype">struct ccn_fetch *&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Polls the underlying streams and attempts to make progress. 
<p>
Scans the streams for those that have data already present, or are at the end of the stream. If the count is 0, perfoms a ccn_poll on the underlying ccn connection with a 0 timeout.<p>
NOTE: periodic calls to ccn_fetch_poll should be performed to update the contents of the streams UNLESS the client is calling ccn_run for the underlying ccn connection. <dl class="return" compact><dt><b>Returns:</b></dt><dd>the count of streams that have pending data or have ended. </dd></dl>

<p>Definition at line <a class="el" href="ccn__fetch_8c-source.html#l00693">693</a> of file <a class="el" href="ccn__fetch_8c-source.html">ccn_fetch.c</a>.</p>

<p>Referenced by <a class="el" href="ccn__fetch__test_8c-source.html#l00158">runTest()</a>.</p>

</div>
</div><p>
<a class="anchor" name="cdb3b506baf522838f83fd53f9527145"></a><!-- doxytag: member="fetch.h::ccn_fetch_position" ref="cdb3b506baf522838f83fd53f9527145" args="(struct ccn_fetch_stream *fs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">intmax_t ccn_fetch_position           </td>
          <td>(</td>
          <td class="paramtype">struct ccn_fetch_stream *&nbsp;</td>
          <td class="paramname"> <em>fs</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the current read position (initially 0)<p>
the current read position. </dd></dl>

<p>Definition at line <a class="el" href="ccn__fetch_8c-source.html#l01089">1089</a> of file <a class="el" href="ccn__fetch_8c-source.html">ccn_fetch.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="bc8030c946fed58635c051ffa9b7b2a5"></a><!-- doxytag: member="fetch.h::ccn_fetch_read" ref="bc8030c946fed58635c051ffa9b7b2a5" args="(struct ccn_fetch_stream *fs, void *buf, intmax_t len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">intmax_t ccn_fetch_read           </td>
          <td>(</td>
          <td class="paramtype">struct ccn_fetch_stream *&nbsp;</td>
          <td class="paramname"> <em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">intmax_t&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reads bytes from a stream. 
<p>
Reads at most len bytes into buf from the given stream. Will not wait for bytes to arrive. Advances the read position on a successful read. <dl class="return" compact><dt><b>Returns:</b></dt><dd>CCN_FETCH_READ_TIMEOUT if a timeout occurred, CCN_FETCH_READ_ZERO if a zero-length segment was found CCN_FETCH_READ_NONE if no bytes are immediately available CCN_FETCH_READ_END if the stream is at the end, and N &gt; 0 if N bytes were read. </dd></dl>

<p>Definition at line <a class="el" href="ccn__fetch_8c-source.html#l00954">954</a> of file <a class="el" href="ccn__fetch_8c-source.html">ccn_fetch.c</a>.</p>

<p>Referenced by <a class="el" href="ccncat_8c-source.html#l00084">main()</a>, and <a class="el" href="ccn__fetch__test_8c-source.html#l00158">runTest()</a>.</p>

</div>
</div><p>
<a class="anchor" name="994f9d08ecdd25e10b1b84523118214a"></a><!-- doxytag: member="fetch.h::ccn_fetch_seek" ref="994f9d08ecdd25e10b1b84523118214a" args="(struct ccn_fetch_stream *fs, intmax_t pos)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ccn_fetch_seek           </td>
          <td>(</td>
          <td class="paramtype">struct ccn_fetch_stream *&nbsp;</td>
          <td class="paramname"> <em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">intmax_t&nbsp;</td>
          <td class="paramname"> <em>pos</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Seeks to a position in a stream. 
<p>
Sets the read position. It is strongly recommended that the seek is only done to a position that is either 0 or has resulted from a successful read. Otherwise end of stream indicators may be returned for a seek beyond the end. <dl class="return" compact><dt><b>Returns:</b></dt><dd>-1 if the seek is to a bad position or if the segment size is variable, otherwise returns 0.</dd></dl>
Sets the read position. It is strongly recommended that the seek is only done to a position that is either 0 or has resulted from a successful read. Otherwise end of stream indicators may be returned for a seek beyond the end. <dl class="return" compact><dt><b>Returns:</b></dt><dd>-1 if the seek is to a bad position, otherwise returns 0. </dd></dl>

<p>Definition at line <a class="el" href="ccn__fetch_8c-source.html#l01041">1041</a> of file <a class="el" href="ccn__fetch_8c-source.html">ccn_fetch.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="cbea1189239642671e3dbb8f04562712"></a><!-- doxytag: member="fetch.h::ccn_fetch_set_debug" ref="cbea1189239642671e3dbb8f04562712" args="(struct ccn_fetch *f, FILE *debug, ccn_fetch_flags flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ccn_fetch_set_debug           </td>
          <td>(</td>
          <td class="paramtype">struct ccn_fetch *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&nbsp;</td>
          <td class="paramname"> <em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fetch_8h.html#0ed6579cfdae4fc38e27df172076d4f0">ccn_fetch_flags</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the destination for debug output. 
<p>
NULL disables debug output. 
<p>Definition at line <a class="el" href="ccn__fetch_8c-source.html#l00647">647</a> of file <a class="el" href="ccn__fetch_8c-source.html">ccn_fetch.c</a>.</p>

<p>Referenced by <a class="el" href="ccn__fetch__test_8c-source.html#l00235">main()</a>.</p>

</div>
</div><p>
<a class="anchor" name="c209124a24a126810f32009a6da7376c"></a><!-- doxytag: member="fetch.h::ccn_reset_timeout" ref="c209124a24a126810f32009a6da7376c" args="(struct ccn_fetch_stream *fs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ccn_reset_timeout           </td>
          <td>(</td>
          <td class="paramtype">struct ccn_fetch_stream *&nbsp;</td>
          <td class="paramname"> <em>fs</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Resets the timeout indicator, which will cause pending interests to be retried. 
<p>
The client determines conditions for a timeout to be considered an unrecoverable error. 
<p>Definition at line <a class="el" href="ccn__fetch_8c-source.html#l01027">1027</a> of file <a class="el" href="ccn__fetch_8c-source.html">ccn_fetch.c</a>.</p>

<p>Referenced by <a class="el" href="ccncat_8c-source.html#l00084">main()</a>, and <a class="el" href="ccn__fetch__test_8c-source.html#l00158">runTest()</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Sep 14 12:44:14 2011 for Content-Centric Networking in C by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
