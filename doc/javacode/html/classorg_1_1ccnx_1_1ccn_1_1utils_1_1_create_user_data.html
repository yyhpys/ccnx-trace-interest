<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Content-Centric Networking in Java: org.ccnx.ccn.utils.CreateUserData Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>org</b>.<b>ccnx</b>.<b>ccn</b>.<a class="el" href="namespaceorg_1_1ccnx_1_1ccn_1_1utils.html">utils</a>.<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1utils_1_1_create_user_data.html">CreateUserData</a>
  </div>
</div>
<div class="contents">
<h1>org.ccnx.ccn.utils.CreateUserData Class Reference</h1><!-- doxytag: class="org::ccnx::ccn::utils::CreateUserData" -->The standard CCNx mechanisms try to generate a keystore for each user that uses them.  
<a href="#_details">More...</a>
<p>

<p>
<a href="classorg_1_1ccnx_1_1ccn_1_1utils_1_1_create_user_data-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1utils_1_1_create_user_data.html#c415ea0439aeed3481fb9b7d4e9471cb">CreateUserData</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> userKeyStorePrefix, String[] userNames, int userCount, boolean storeInRepo, char[] password)  throws ConfigurationException, IOException, InvalidKeyException </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read/write constructor to write keystores as CCN data.  <a href="#c415ea0439aeed3481fb9b7d4e9471cb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="384c7d9e1cb106a766004ee416b8262a"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::CreateUserData" ref="384c7d9e1cb106a766004ee416b8262a" args="(ContentName userKeyStorePrefix, int userCount, boolean storeInRepo, char[] password)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1utils_1_1_create_user_data.html#384c7d9e1cb106a766004ee416b8262a">CreateUserData</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> userKeyStorePrefix, int userCount, boolean storeInRepo, char[] password)  throws ConfigurationException, IOException, InvalidKeyException </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Backwards compatibility constructor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1utils_1_1_create_user_data.html#00fd99e3aeb7ceb4e673f0a37aec3a06">CreateUserData</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> userKeystoreDataPrefix, char[] password, <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html">CCNHandle</a> handle)  throws IOException, ConfigurationException, InvalidKeyException </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">General read constructor.  <a href="#00fd99e3aeb7ceb4e673f0a37aec3a06"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1utils_1_1_create_user_data.html#59444faca479487307c58c6c065dd88b">CreateUserData</a> (File userKeystoreDirectory, String[] userNames, int userCount, char[] password, boolean clearSavedState)  throws ConfigurationException, IOException, InvalidKeyException </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read/write constructor to write keystores as files.  <a href="#59444faca479487307c58c6c065dd88b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ee96765afaf260e1975b1417bc617831"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::CreateUserData" ref="ee96765afaf260e1975b1417bc617831" args="(File userKeystoreDirectory, String[] userNames, int userCount, char[] password)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>CreateUserData</b> (File userKeystoreDirectory, String[] userNames, int userCount, char[] password)  throws ConfigurationException, IOException, InvalidKeyException </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6eebdf99d513a10fb240661e6c75fbde"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::closeAll" ref="6eebdf99d513a10fb240661e6c75fbde" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>closeAll</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ae150df1ac4c32f22d47d26206ba1678"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::publishUserKeysToRepository" ref="ae150df1ac4c32f22d47d26206ba1678" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>publishUserKeysToRepository</b> ()  throws IOException</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1io_1_1content_1_1_public_key_object.html">PublicKeyObject</a>[]&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1utils_1_1_create_user_data.html#ac3237201d689d1cee8ba1ee127b5082">publishUserKeysToRepository</a> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> userNamespace)  throws IOException, InvalidKeyException</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Publishes self-referential key objects under user namespace prefix.  <a href="#ac3237201d689d1cee8ba1ee127b5082"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="33702b2f199914d9e8386eab5daa1174"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::publishUserKeysToRepositorySetLocators" ref="33702b2f199914d9e8386eab5daa1174" args="(ContentName userNamespace)" -->
<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1io_1_1content_1_1_public_key_object.html">PublicKeyObject</a>[]&nbsp;</td><td class="memItemRight" valign="bottom"><b>publishUserKeysToRepositorySetLocators</b> (<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> userNamespace)  throws InvalidKeyException, IOException </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3dfac9595a6853841e8b6d436e8b645e"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::hasUser" ref="3dfac9595a6853841e8b6d436e8b645e" args="(String friendlyName)" -->
boolean&nbsp;</td><td class="memItemRight" valign="bottom"><b>hasUser</b> (String friendlyName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1fa9f29b7a94574d1f8e0f029c87fdc6"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::getUser" ref="1fa9f29b7a94574d1f8e0f029c87fdc6" args="(String friendlyName)" -->
<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_basic_key_manager.html">BasicKeyManager</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>getUser</b> (String friendlyName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c29a45a437d986d300cdc5d3a1ffba4b"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::getUserDirectory" ref="c29a45a437d986d300cdc5d3a1ffba4b" args="(String friendlyName)" -->
File&nbsp;</td><td class="memItemRight" valign="bottom"><b>getUserDirectory</b> (String friendlyName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0753ccb613a92d0d6f2bb738877e6546"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::getHandleForUser" ref="0753ccb613a92d0d6f2bb738877e6546" args="(String friendlyName)" -->
<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html">CCNHandle</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>getHandleForUser</b> (String friendlyName)  throws IOException </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="fa4060ce7ab3eb9ff6c34df3b6cba04a"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::friendlyNames" ref="fa4060ce7ab3eb9ff6c34df3b6cba04a" args="()" -->
Set&lt; String &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>friendlyNames</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e13a0891aa9fa4f4b1dc24fb953c393c"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::count" ref="e13a0891aa9fa4f4b1dc24fb953c393c" args="()" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>count</b> ()</td></tr>

<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_key_manager.html">KeyManager</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1utils_1_1_create_user_data.html#292a2db51b4dc5bd56b8c5ade1bf1796">loadKeystoreFile</a> (File userKeystoreFileOrDirectory, String friendlyName, char[] password)  throws ConfigurationException, IOException, InvalidKeyException </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">For writing apps that run "as" a particular user.  <a href="#292a2db51b4dc5bd56b8c5ade1bf1796"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1utils_1_1_create_user_data.html">CreateUserData</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1utils_1_1_create_user_data.html#c4cd5a7baf7eeecc1794dfcc214f434f">readUserDataDirectory</a> (File userDirectory, char[] keystorePassword)  throws ConfigurationException, IOException, InvalidKeyException </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load a set of user data from an existing generated set of file directories.  <a href="#c4cd5a7baf7eeecc1794dfcc214f434f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static Tuple&lt; Integer, <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html">CCNHandle</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1utils_1_1_create_user_data.html#5a7ae60e6db6fc96da9ccaa455a87df1">handleAs</a> (String[] args, int offset)  throws ConfigurationException,  			IOException, InvalidKeyException </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper method for other programs that want to use TestUserData.  <a href="#5a7ae60e6db6fc96da9ccaa455a87df1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="60fee67d0a9b560537e4b692c44326e4"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::keyManagerAs" ref="60fee67d0a9b560537e4b692c44326e4" args="(String[] args, int offset)" -->
static Tuple&lt; Integer, <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_key_manager.html">KeyManager</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>keyManagerAs</b> (String[] args, int offset)  throws ConfigurationException,  					IOException, InvalidKeyException </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="30fe023256159a0e1bd5ed2188ac903a"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::keyManagerAs" ref="30fe023256159a0e1bd5ed2188ac903a" args="(String keystoreFileOrDirectoryPath, String friendlyName)" -->
static <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_key_manager.html">KeyManager</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>keyManagerAs</b> (String keystoreFileOrDirectoryPath, String friendlyName)  throws InvalidKeyException, ConfigurationException, IOException </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6ab4f499c11d713094c75f2e24610176"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::usage" ref="6ab4f499c11d713094c75f2e24610176" args="()" -->
static void&nbsp;</td><td class="memItemRight" valign="bottom"><b>usage</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="89ef1b5b17352a7145008502e6bea433"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::main" ref="89ef1b5b17352a7145008502e6bea433" args="(String[] args)" -->
static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1utils_1_1_create_user_data.html#89ef1b5b17352a7145008502e6bea433">main</a> (String[] args)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Command-line driver to generate key data. <br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static final String[]&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1utils_1_1_create_user_data.html#8d4b30be7af401ddf4860e2298e505e4">USER_NAMES</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Our users are named, in order, from this list, with 1 attached the first time, and 2 the second, and so on.  <a href="#8d4b30be7af401ddf4860e2298e505e4"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="fae341706d78a4e3062771252d005a13"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::_userContentNames" ref="fae341706d78a4e3062771252d005a13" args="" -->
HashMap&lt; String, <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>_userContentNames</b> = new HashMap&lt;String,<a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a>&gt;()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ba5368d16e0fd7b81e3eab619443aa7f"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::_userKeystoreDirectories" ref="ba5368d16e0fd7b81e3eab619443aa7f" args="" -->
HashMap&lt; String, File &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>_userKeystoreDirectories</b> = new HashMap&lt;String,File&gt;()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="93c45a105982a0c42566804145683c95"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::_userKeyManagers" ref="93c45a105982a0c42566804145683c95" args="" -->
HashMap&lt; String, <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_basic_key_manager.html">BasicKeyManager</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>_userKeyManagers</b> = new HashMap&lt;String, <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1impl_1_1security_1_1keys_1_1_basic_key_manager.html">BasicKeyManager</a>&gt;()</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The standard CCNx mechanisms try to generate a keystore for each user that uses them. 
<p>
This tool allows you to make keys for additional users, on the command line or programmatically. It is primarily useful for tests, and for generating credentials that will be prepared offline and then given to their intended users.<p>
Creates and loads a set of simulated users. Will store them into a repository if asked, or to files and then will reload them from there the next time.<p>
As long as you are careful to create your <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html" title="The core class encapsulating a Java interface to the CCN network.">CCNHandle</a> objects pointing at these users' keystores, you can create data as any of these users. <hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="c415ea0439aeed3481fb9b7d4e9471cb"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::CreateUserData" ref="c415ea0439aeed3481fb9b7d4e9471cb" args="(ContentName userKeyStorePrefix, String[] userNames, int userCount, boolean storeInRepo, char[] password)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">org.ccnx.ccn.utils.CreateUserData.CreateUserData           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a>&nbsp;</td>
          <td class="paramname"> <em>userKeyStorePrefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String[]&nbsp;</td>
          <td class="paramname"> <em>userNames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>userCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&nbsp;</td>
          <td class="paramname"> <em>storeInRepo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char[]&nbsp;</td>
          <td class="paramname"> <em>password</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throws <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1config_1_1_configuration_exception.html">ConfigurationException</a>, IOException, InvalidKeyException </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read/write constructor to write keystores as CCN data. 
<p>
Makes extra new users if necessary. Expects names to come as above. Will incur timeouts the first time, as it checks for data first, and will take time to generate keys. TODO eventually use this "for real" with real passwords. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>userKeyStorePrefix</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>userNames</em>&nbsp;</td><td>list of user names to use, if null uses built-in list </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>userCount</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>storeInRepo</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>password</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>IOException</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ConfigurationException</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>InvalidKeyException</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="00fd99e3aeb7ceb4e673f0a37aec3a06"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::CreateUserData" ref="00fd99e3aeb7ceb4e673f0a37aec3a06" args="(ContentName userKeystoreDataPrefix, char[] password, CCNHandle handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">org.ccnx.ccn.utils.CreateUserData.CreateUserData           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a>&nbsp;</td>
          <td class="paramname"> <em>userKeystoreDataPrefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char[]&nbsp;</td>
          <td class="paramname"> <em>password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html">CCNHandle</a>&nbsp;</td>
          <td class="paramname"> <em>handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throws IOException, <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1config_1_1_configuration_exception.html">ConfigurationException</a>, InvalidKeyException </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
General read constructor. 
<p>
Expects names to be available in repo, and so enumerable. i.e. something must be there. Uses NetworkKeyManager to read them out, though. <dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>IOException</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ConfigurationException</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>InvalidKeyException</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="59444faca479487307c58c6c065dd88b"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::CreateUserData" ref="59444faca479487307c58c6c065dd88b" args="(File userKeystoreDirectory, String[] userNames, int userCount, char[] password, boolean clearSavedState)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">org.ccnx.ccn.utils.CreateUserData.CreateUserData           </td>
          <td>(</td>
          <td class="paramtype">File&nbsp;</td>
          <td class="paramname"> <em>userKeystoreDirectory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String[]&nbsp;</td>
          <td class="paramname"> <em>userNames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>userCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char[]&nbsp;</td>
          <td class="paramname"> <em>password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&nbsp;</td>
          <td class="paramname"> <em>clearSavedState</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throws <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1config_1_1_configuration_exception.html">ConfigurationException</a>, IOException, InvalidKeyException </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read/write constructor to write keystores as files. 
<p>
Makes extra new users if necessary. Expects names to come as above. Will incur timeouts the first time, as it checks for data first, and will take time to generate keys. TODO eventually use this "for real" with real passwords. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>userKeystoreDirectory</em>&nbsp;</td><td>a directory under which to put each user's information; segregated into subdirectories by user name, e.g. &lt;userKeystoreDirectory&gt;/&lt;userName&gt;. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>userNames</em>&nbsp;</td><td>list of user names to use, if null uses built-in list </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>userCount</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>storeInRepo</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>password</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>IOException</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ConfigurationException</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>IOException</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ConfigurationException</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>InvalidKeyException</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>InvalidKeyException</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="292a2db51b4dc5bd56b8c5ade1bf1796"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::loadKeystoreFile" ref="292a2db51b4dc5bd56b8c5ade1bf1796" args="(File userKeystoreFileOrDirectory, String friendlyName, char[] password)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_key_manager.html">KeyManager</a> org.ccnx.ccn.utils.CreateUserData.loadKeystoreFile           </td>
          <td>(</td>
          <td class="paramtype">File&nbsp;</td>
          <td class="paramname"> <em>userKeystoreFileOrDirectory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&nbsp;</td>
          <td class="paramname"> <em>friendlyName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char[]&nbsp;</td>
          <td class="paramname"> <em>password</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throws <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1config_1_1_configuration_exception.html">ConfigurationException</a>, IOException, InvalidKeyException <code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
For writing apps that run "as" a particular user. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>userKeystoreDirectory</em>&nbsp;</td><td>This is the path to this particular user's keystore directory, not the path above it where a bunch of users might have been generated. Assumes keystore file has default name in that directory. If you give it a path that doesn't exist, it takes it as a directory and makes a keystore there making the parent directories if necessary. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd></dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>IOException</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ConfigurationException</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>InvalidKeyException</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="c4cd5a7baf7eeecc1794dfcc214f434f"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::readUserDataDirectory" ref="c4cd5a7baf7eeecc1794dfcc214f434f" args="(File userDirectory, char[] keystorePassword)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1utils_1_1_create_user_data.html">CreateUserData</a> org.ccnx.ccn.utils.CreateUserData.readUserDataDirectory           </td>
          <td>(</td>
          <td class="paramtype">File&nbsp;</td>
          <td class="paramname"> <em>userDirectory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char[]&nbsp;</td>
          <td class="paramname"> <em>keystorePassword</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throws <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1config_1_1_configuration_exception.html">ConfigurationException</a>, IOException, InvalidKeyException <code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Load a set of user data from an existing generated set of file directories. 
<p>
Don't force user to know names or count, enumerate them. <dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>IOException</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ConfigurationException</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>InvalidKeyException</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ac3237201d689d1cee8ba1ee127b5082"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::publishUserKeysToRepository" ref="ac3237201d689d1cee8ba1ee127b5082" args="(ContentName userNamespace)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1io_1_1content_1_1_public_key_object.html">PublicKeyObject</a> [] org.ccnx.ccn.utils.CreateUserData.publishUserKeysToRepository           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1ccnx_1_1ccn_1_1protocol_1_1_content_name.html">ContentName</a>&nbsp;</td>
          <td class="paramname"> <em>userNamespace</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throws IOException, InvalidKeyException</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Publishes self-referential key objects under user namespace prefix. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>userNamespace</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd></dd></dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>IOException</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>InvalidKeyException</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="5a7ae60e6db6fc96da9ccaa455a87df1"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::handleAs" ref="5a7ae60e6db6fc96da9ccaa455a87df1" args="(String[] args, int offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static Tuple&lt;Integer, <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1_c_c_n_handle.html">CCNHandle</a>&gt; org.ccnx.ccn.utils.CreateUserData.handleAs           </td>
          <td>(</td>
          <td class="paramtype">String[]&nbsp;</td>
          <td class="paramname"> <em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>offset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throws <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1config_1_1_configuration_exception.html">ConfigurationException</a>,  			IOException, InvalidKeyException <code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Helper method for other programs that want to use TestUserData. 
<p>
Takes an args array, and an offset int it, at which it expects to find (optionally) [-as keystoreDirectoryorFilePath [-name friendlyName]]. If the latter refers to a file, it takes it as the keystore file. If it refers to a directory, it looks for the default keystore file name under that directory. If the friendly name argument is given, it uses that as the friendly name, otherwise it uses the last component of the keystoreDirectoryOrFilePath. It returns a Tuple of a handle opened under that user, and the count of arguments read, or null if the argument at offset was not -as. 
</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="8d4b30be7af401ddf4860e2298e505e4"></a><!-- doxytag: member="org::ccnx::ccn::utils::CreateUserData::USER_NAMES" ref="8d4b30be7af401ddf4860e2298e505e4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final String [] <a class="el" href="classorg_1_1ccnx_1_1ccn_1_1utils_1_1_create_user_data.html#8d4b30be7af401ddf4860e2298e505e4">org.ccnx.ccn.utils.CreateUserData.USER_NAMES</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {<span class="stringliteral">"Alice"</span>, <span class="stringliteral">"Bob"</span>, <span class="stringliteral">"Carol"</span>, <span class="stringliteral">"Dave"</span>, <span class="stringliteral">"Oswald"</span>, <span class="stringliteral">"Binky"</span>,
                                                                                                <span class="stringliteral">"Spot"</span>, <span class="stringliteral">"Fred"</span>, <span class="stringliteral">"Eve"</span>, <span class="stringliteral">"Harold"</span>, <span class="stringliteral">"Barack"</span>, <span class="stringliteral">"Newt"</span>,
                                                                                                <span class="stringliteral">"Allison"</span>, <span class="stringliteral">"Zed"</span>, <span class="stringliteral">"Walter"</span>, <span class="stringliteral">"Gizmo"</span>, <span class="stringliteral">"Nick"</span>, <span class="stringliteral">"Michael"</span>,
                                                                                                <span class="stringliteral">"Nathan"</span>, <span class="stringliteral">"Rebecca"</span>, <span class="stringliteral">"Diana"</span>, <span class="stringliteral">"Jim"</span>, <span class="stringliteral">"Van"</span>, <span class="stringliteral">"Teresa"</span>,
                                                                                                <span class="stringliteral">"Russ"</span>, <span class="stringliteral">"Tim"</span>, <span class="stringliteral">"Sharon"</span>, <span class="stringliteral">"Jessica"</span>, <span class="stringliteral">"Elaine"</span>, <span class="stringliteral">"Mark"</span>,
                                                                                                <span class="stringliteral">"Weasel"</span>, <span class="stringliteral">"Ralph"</span>, <span class="stringliteral">"Junior"</span>, <span class="stringliteral">"Beki"</span>, <span class="stringliteral">"Darth"</span>, <span class="stringliteral">"Cauliflower"</span>,
                                                                                                <span class="stringliteral">"Pico"</span>, <span class="stringliteral">"Eric"</span>, <span class="stringliteral">"Eric"</span>, <span class="stringliteral">"Eric"</span>, <span class="stringliteral">"Erik"</span>, <span class="stringliteral">"Richard"</span>}
</pre></div>Our users are named, in order, from this list, with 1 attached the first time, and 2 the second, and so on. 
<p>
This allows them to be enumerated without requiring them to be stored in a repo. 
</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>src/org/ccnx/ccn/utils/CreateUserData.java</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Sep 14 12:44:34 2011 for Content-Centric Networking in Java by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
